{"ast":null,"code":"//Search strategy:\n//outer loop searches highest price beginning from end\n//inner loop scans lowest price after every hit to highest price from outer loop\nexport function maximalprofitwindow(dataset) {\n  var datalenght = Object.keys(dataset[\"total_volumes\"]).length;\n  var day_highest_price = null;\n  var highest_price = 0;\n  var lowest_price = 1000000;\n  var global_lowest_price = 1000000;\n  var global_day_lowest_price = null;\n  var global_highest_price = 0;\n  var global_day_highest_price = null;\n  var biggest_profit = 0;\n  var lowest_price = dataset[\"prices\"][0][1];\n  var day_lowest_price = dataset[\"prices\"][0][0];\n\n  for (var i = datalenght - 1; i >= 0; i--) {\n    if (dataset[\"prices\"][i][1] > highest_price) {\n      highest_price = dataset[\"prices\"][i][1];\n      day_highest_price = dataset[\"prices\"][i][0];\n\n      for (var z = 0; z < i; z++) {\n        if (dataset[\"prices\"][z][1] < lowest_price) {\n          console.log(\"x->\");\n          lowest_price = dataset[\"prices\"][z][1];\n          day_lowest_price = dataset[\"prices\"][z][0];\n        }\n\n        if (biggest_profit < highest_price - lowest_price) {\n          biggest_profit = highest_price - lowest_price;\n          console.log(biggest_profit);\n          global_lowest_price = lowest_price;\n          global_highest_price = highest_price;\n          global_day_lowest_price = day_lowest_price;\n          global_day_highest_price = day_highest_price;\n          console.log(global_day_lowest_price);\n          console.log(global_lowest_price);\n        }\n\n        lowest_price = dataset[\"prices\"][0][1];\n        day_lowest_price = dataset[\"prices\"][0][0];\n      }\n    }\n  }\n\n  const global_day_lowest_price_converted = new Date(global_day_lowest_price).toLocaleString();\n  const global_day_highest_price_converted = new Date(global_day_highest_price).toLocaleString();\n  return [global_day_lowest_price_converted, global_day_highest_price_converted];\n}","map":{"version":3,"sources":["/home/user/mern/vincit-pre-assignment/src/modules/MaximalProfitWindow.js"],"names":["maximalprofitwindow","dataset","datalenght","Object","keys","length","day_highest_price","highest_price","lowest_price","global_lowest_price","global_day_lowest_price","global_highest_price","global_day_highest_price","biggest_profit","day_lowest_price","i","z","console","log","global_day_lowest_price_converted","Date","toLocaleString","global_day_highest_price_converted"],"mappings":"AAAA;AACA;AACA;AACA,OAAO,SAASA,mBAAT,CAA6BC,OAA7B,EAAsC;AAEzC,MAAIC,UAAU,GAAGC,MAAM,CAACC,IAAP,CAAYH,OAAO,CAAC,eAAD,CAAnB,EAAsCI,MAAvD;AACA,MAAIC,iBAAiB,GAAG,IAAxB;AACA,MAAIC,aAAa,GAAG,CAApB;AACA,MAAIC,YAAY,GAAG,OAAnB;AACA,MAAIC,mBAAmB,GAAG,OAA1B;AACA,MAAIC,uBAAuB,GAAG,IAA9B;AACA,MAAIC,oBAAoB,GAAG,CAA3B;AACA,MAAIC,wBAAwB,GAAG,IAA/B;AACA,MAAIC,cAAc,GAAG,CAArB;AACA,MAAIL,YAAY,GAAGP,OAAO,CAAC,QAAD,CAAP,CAAkB,CAAlB,EAAqB,CAArB,CAAnB;AACA,MAAIa,gBAAgB,GAAGb,OAAO,CAAC,QAAD,CAAP,CAAkB,CAAlB,EAAqB,CAArB,CAAvB;;AAEA,OAAK,IAAIc,CAAC,GAAGb,UAAU,GAAC,CAAxB,EAA2Ba,CAAC,IAAI,CAAhC,EAAmCA,CAAC,EAApC,EAAwC;AACpC,QAAId,OAAO,CAAC,QAAD,CAAP,CAAkBc,CAAlB,EAAqB,CAArB,IAA0BR,aAA9B,EAA8C;AAC1CA,MAAAA,aAAa,GAAGN,OAAO,CAAC,QAAD,CAAP,CAAkBc,CAAlB,EAAqB,CAArB,CAAhB;AACAT,MAAAA,iBAAiB,GAAGL,OAAO,CAAC,QAAD,CAAP,CAAkBc,CAAlB,EAAqB,CAArB,CAApB;;AAEA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,CAApB,EAAuBC,CAAC,EAAxB,EAA2B;AACvB,YAAIf,OAAO,CAAC,QAAD,CAAP,CAAkBe,CAAlB,EAAqB,CAArB,IAA0BR,YAA9B,EAA6C;AACzCS,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACAV,UAAAA,YAAY,GAAGP,OAAO,CAAC,QAAD,CAAP,CAAkBe,CAAlB,EAAqB,CAArB,CAAf;AACAF,UAAAA,gBAAgB,GAAGb,OAAO,CAAC,QAAD,CAAP,CAAkBe,CAAlB,EAAqB,CAArB,CAAnB;AAEP;;AACD,YAAIH,cAAc,GAAIN,aAAa,GAACC,YAApC,EAAkD;AAC9CK,UAAAA,cAAc,GAAGN,aAAa,GAACC,YAA/B;AACAS,UAAAA,OAAO,CAACC,GAAR,CAAYL,cAAZ;AACAJ,UAAAA,mBAAmB,GAAGD,YAAtB;AACAG,UAAAA,oBAAoB,GAAGJ,aAAvB;AACAG,UAAAA,uBAAuB,GAAGI,gBAA1B;AACAF,UAAAA,wBAAwB,GAAGN,iBAA3B;AACAW,UAAAA,OAAO,CAACC,GAAR,CAAYR,uBAAZ;AACAO,UAAAA,OAAO,CAACC,GAAR,CAAYT,mBAAZ;AACH;;AACDD,QAAAA,YAAY,GAAGP,OAAO,CAAC,QAAD,CAAP,CAAkB,CAAlB,EAAqB,CAArB,CAAf;AACAa,QAAAA,gBAAgB,GAAGb,OAAO,CAAC,QAAD,CAAP,CAAkB,CAAlB,EAAqB,CAArB,CAAnB;AACH;AACJ;AACJ;;AACD,QAAMkB,iCAAiC,GAAG,IAAIC,IAAJ,CAASV,uBAAT,EAAkCW,cAAlC,EAA1C;AACA,QAAMC,kCAAkC,GAAG,IAAIF,IAAJ,CAASR,wBAAT,EAAmCS,cAAnC,EAA3C;AACA,SAAO,CAACF,iCAAD,EAAoCG,kCAApC,CAAP;AACC","sourcesContent":["//Search strategy:\n//outer loop searches highest price beginning from end\n//inner loop scans lowest price after every hit to highest price from outer loop\nexport function maximalprofitwindow(dataset) {    \n    \n    var datalenght = Object.keys(dataset[\"total_volumes\"]).length;\n    var day_highest_price = null\n    var highest_price = 0\n    var lowest_price = 1000000\n    var global_lowest_price = 1000000\n    var global_day_lowest_price = null\n    var global_highest_price = 0\n    var global_day_highest_price = null\n    var biggest_profit = 0\n    var lowest_price = dataset[\"prices\"][0][1]\n    var day_lowest_price = dataset[\"prices\"][0][0]\n\n    for (var i = datalenght-1; i >= 0; i--) {        \n        if (dataset[\"prices\"][i][1] > highest_price  ){\n            highest_price = dataset[\"prices\"][i][1]\n            day_highest_price = dataset[\"prices\"][i][0]\n\n            for (var z = 0; z < i; z++){\n                if (dataset[\"prices\"][z][1] < lowest_price  ){ \n                    console.log(\"x->\")\n                    lowest_price = dataset[\"prices\"][z][1]\n                    day_lowest_price = dataset[\"prices\"][z][0]\n\n            }\n            if (biggest_profit < (highest_price-lowest_price)){\n                biggest_profit = highest_price-lowest_price\n                console.log(biggest_profit)\n                global_lowest_price = lowest_price\n                global_highest_price = highest_price\n                global_day_lowest_price = day_lowest_price\n                global_day_highest_price = day_highest_price\n                console.log(global_day_lowest_price)\n                console.log(global_lowest_price)\n            }   \n            lowest_price = dataset[\"prices\"][0][1]\n            day_lowest_price = dataset[\"prices\"][0][0]\n        }\n    }\n}\nconst global_day_lowest_price_converted = new Date(global_day_lowest_price).toLocaleString()\nconst global_day_highest_price_converted = new Date(global_day_highest_price).toLocaleString()\nreturn [global_day_lowest_price_converted, global_day_highest_price_converted]\n}"]},"metadata":{},"sourceType":"module"}